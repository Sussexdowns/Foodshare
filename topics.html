<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Topics - Lewes Food Sharing</title>

  <!-- CSS & Icons -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/pages.css">
  <link rel="stylesheet" href="css/topics.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/f90ec7d4eb.js" crossorigin="anonymous"></script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/leaflet.awesome-markers@2.0.4/dist/leaflet.awesome-markers.css" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />

  <!-- Favicons & Manifest -->
  <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
  <link rel="shortcut icon" href="favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Foodshare" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="manifest" href="site.webmanifest" />
  <meta name="theme-color" content="#2e7d32" />
</head>

<body class="p-4 topics-page">

  <!-- Header placeholder - loaded via JavaScript -->
  <div id="header-placeholder" class="fixed-top"></div>

  <main class="flex-shrink-0">

    <!-- Page Heading -->
    <div class="container my-5 text-center">
      <h1 class="d-flex align-items-center justify-content-center">
        <img src="assets/logo.png" alt="Logo" class="logo" />
        Topics
      </h1>
      <p class="lead">Discover edible and medicinal plants in your area</p>
    </div>

    <!-- Map showing topic locations -->
    <div class="container mb-3">
      <div id="map"></div>
    </div>

    <!-- Search and Filters -->
    <div class="container mb-3">
      <div class="row g-3 align-items-end">
        <div class="col-md-4">
          <label for="category-filter" class="form-label">Category</label>
          <select id="category-filter" class="form-select">
            <option value="all">All Categories</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="subcategory-filter" class="form-label">Subcategory</label>
          <select id="subcategory-filter" class="form-select" disabled>
            <option value="all">All Subcategories</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="search-input" class="form-label">Search</label>
          <input type="text" id="search-input" class="form-control" placeholder="Search topics...">
        </div>
      </div>
    </div>

    <!-- Topics Grid -->
    <div class="container">
      <div id="topics-count" class="mb-3 text-muted"></div>
      <div id="topics-grid" class="row">
        <!-- Topics will be loaded here -->
      </div>
    </div>

  </main>

  <!-- Settings Modal - loaded dynamically -->
  <div id="settingsModal" class="modal hidden">
    <!-- Content loaded from settings_modal.html -->

  </div>

  <!-- Footer placeholder - loaded via JavaScript -->
  <div id="footer-placeholder" class="fixed-bottom"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet.awesome-markers@2.0.4/dist/leaflet.awesome-markers.js"></script>
  <script src="scripts/base.js"></script>
  <script src="scripts/topics.js"></script>

  <!-- Register Service Worker for PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/Foodshare/sw.js')
          .then(registration => {
            console.log('ServiceWorker registered:', registration.scope);
          })
          .catch(error => {
            console.log('ServiceWorker registration failed:', error);
          });
      });
    }
  </script>

</body>

</html>